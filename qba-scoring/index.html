<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QBA Scoring Tool (0‚Äì10)</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>


    <div class="language-toggle">
        <button class="lang-btn active" onclick="setLanguage('en')" id="lang-en" title="English">üá¨üáß</button>
        <button class="lang-btn" onclick="setLanguage('id')" id="lang-id" title="Bahasa Indonesia">üáÆüá©</button>
    </div>

    <div class="container">
        <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 20px;">
            <h1 style="margin: 0;">
                <img src="../qba.png" alt="QBA ICon"
                    style="height: 50px; width: 50px; vertical-align: middle; margin-right: 10px; border-radius: 15px;">
                Qualitative Behaviour Assessment
            </h1>
            <button class="info-button" onclick="showQBAInfo()" title="What is QBA?"
                style="border-radius: 50%; width: 36px; height: 36px; padding: 0; justify-content: center; margin: 0;">
                üí°
            </button>
        </div>

        <!-- Metadata -->
        <div class="meta-grid">
            <div class="field-group">
                <label>Observer</label>
                <input id="observer" type="text" placeholder="Enter observer name" />
            </div>
            <div class="field-group">
                <label>Species</label>
                <input id="species" type="text" placeholder="e.g., Lion, Elephant" />
            </div>
            <div class="field-group">
                <label>Individual / Group ID</label>
                <input id="animalId" type="text" placeholder="e.g., L-001" />
            </div>
            <div class="field-group">
                <label>Observation Duration (minutes)</label>
                <input id="duration" type="number" min="1" placeholder="e.g., 30" />
            </div>
            <div class="field-group">
                <label>Context</label>
                <select id="context">
                    <option value="Baseline">Baseline</option>
                    <option value="Feeding">Feeding</option>
                    <option value="Enrichment">Enrichment</option>
                    <option value="Visitor Presence">Visitor Presence</option>
                    <option value="Training">Training</option>
                    <option value="Veterinary">Veterinary</option>
                </select>
            </div>
        </div>

        <h2 style="margin-top: 32px; margin-bottom: 8px; color: #1a1a2e; font-size: 1.3rem; font-weight: 700;">QBA
            Indicators</h2>
        <p class="subtitle" style="text-align: left; margin-bottom: 24px; margin-top: 0;">Scoring scale: <strong>0
                (Absent)</strong> to <strong>10 (Strongly expressed)</strong></p>


        <!-- Descriptors -->
        <div id="descriptors"></div>

        <div style="text-align: center; margin: 20px 0;">
            <button class="btn-secondary" onclick="addCustomIndicator()" style="padding: 10px 24px;">
                ‚ûï Add Custom Indicator
            </button>
        </div>

        <div class="field-group">
            <label>Observer Notes (optional)</label>
            <textarea id="notes" rows="4" placeholder="Add any additional observations or context..."></textarea>
        </div>

        <div class="actions">
            <button class="btn-secondary" onclick="resetForm()">Reset Form</button>
            <button class="btn-primary" onclick="submitQBA()">Submit QBA Score</button>
        </div>

        <div class="summary" id="summary"></div>

        <div class="results" id="results"></div>

        <div class="note">
            ‚ÑπÔ∏è QBA scores reflect overall behavioural expression, not specific behaviours. Consider the animal's body
            language, movement quality, and overall demeanor.
        </div>
    </div>

    <!-- QBA Info Modal (placed outside container to avoid backdrop-filter stacking context issues) -->
    <div id="qbaModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">What is QBA?</h2>
                <button class="close-modal" onclick="closeQBAInfo()">‚úï</button>
            </div>
            <div id="modalBody">
                <p id="qbaIntro">
                    Qualitative Behaviour Assessment (QBA) is a welfare assessment method that evaluates how an
                    animal behaves, focusing on its overall behavioural expression (e.g. relaxed, tense, curious,
                    fearful), rather than counting specific behaviours. It integrates posture, movement,
                    responsiveness, and interaction to provide insight into the animal's affective (emotional) state
                    as perceived by trained observers.
                </p>

                <h3 id="qbaImportanceTitle">Why is QBA Important in the Five Domains Model?</h3>
                <p id="qbaImportance">
                    The Five Domains model links physical conditions (Nutrition, Environment, Health, Behaviour) to
                    the animal's Mental State (Domain 5). QBA is particularly valuable because it directly informs
                    this mental/affective domain, capturing both positive and negative experiences that may not be
                    detected by physical or quantitative measures alone.
                </p>

                <h3 id="qbaHowTitle">How Does QBA Work?</h3>
                <ol id="qbaHowList">
                    <li id="qbaStep1">An observer watches an animal or group for a defined period.</li>
                    <li id="qbaStep2">After observation, the observer scores standardized descriptive terms (e.g.
                        0‚Äì10 scale) based on how strongly each quality is expressed.</li>
                    <li id="qbaStep3">The resulting profile is used to compare welfare across time, individuals, or
                        management conditions.</li>
                </ol>
                <p id="qbaEffective">
                    QBA is most effective when used alongside quantitative behavioural and health indicators,
                    providing a more holistic welfare assessment.
                </p>

                <div class="summary-box" id="qbaSummary">
                    <strong>One-sentence summary:</strong> QBA is a structured method for assessing animal emotional
                    expression and is a key tool for evaluating the mental state domain within the Five Domains
                    animal welfare framework.
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>